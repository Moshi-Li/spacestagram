import{r as c,u as y,a as O,j as s,b as G,G as U,c as W,R as g,d as X,s as N,e as M,t as q,f as V,g as z,i as J,h as K,k as Q,_ as Z,L as ee}from"./index-8b0956d7.js";var D={},R={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var r={}.hasOwnProperty;function n(){for(var e=[],o=0;o<arguments.length;o++){var i=arguments[o];if(i){var a=typeof i;if(a==="string"||a==="number")e.push(i);else if(Array.isArray(i)){if(i.length){var h=n.apply(null,i);h&&e.push(h)}}else if(a==="object"){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){e.push(i.toString());continue}for(var u in i)r.call(i,u)&&i[u]&&e.push(u)}}}return e.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(R);var te=R.exports,F={exports:{}},ne="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",re=ne,oe=re;function Y(){}function B(){}B.resetWarningCache=Y;var se=function(){function t(e,o,i,a,h,u){if(u!==oe){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}t.isRequired=t;function r(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:r,element:t,elementType:t,instanceOf:r,node:t,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:B,resetWarningCache:Y};return n.PropTypes=n,n};F.exports=se();var ie=F.exports,S={};Object.defineProperty(S,"__esModule",{value:!0});var ae=c,j=le(ae);function le(t){return t&&t.__esModule?t:{default:t}}S.default=function(){return j.default.createElement("svg",{width:"14",height:"11",viewBox:"0 0 14 11"},j.default.createElement("path",{d:"M11.264 0L5.26 6.004 2.103 2.847 0 4.95l5.26 5.26 8.108-8.107L11.264 0",fill:"#fff",fillRule:"evenodd"}))};var b={};Object.defineProperty(b,"__esModule",{value:!0});var ce=c,C=he(ce);function he(t){return t&&t.__esModule?t:{default:t}}b.default=function(){return C.default.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10"},C.default.createElement("path",{d:"M9.9 2.12L7.78 0 4.95 2.828 2.12 0 0 2.12l2.83 2.83L0 7.776 2.123 9.9 4.95 7.07 7.78 9.9 9.9 7.776 7.072 4.95 9.9 2.12",fill:"#fff",fillRule:"evenodd"}))};var E={};Object.defineProperty(E,"__esModule",{value:!0});E.pointerCoord=ue;function ue(t){if(t){var r=t.changedTouches;if(r&&r.length>0){var n=r[0];return{x:n.clientX,y:n.clientY}}var e=t.pageX;if(e!==void 0)return{x:e,y:t.pageY}}return{x:0,y:0}}Object.defineProperty(D,"__esModule",{value:!0});var de=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}return t},pe=function(){function t(r,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(r,o.key,o)}}return function(r,n,e){return n&&t(r.prototype,n),e&&t(r,e),r}}(),I=c,d=v(I),fe=te,me=v(fe),ve=ie,l=v(ve),ge=S,ye=v(ge),xe=b,_e=v(xe),k=E;function v(t){return t&&t.__esModule?t:{default:t}}function ke(t,r){var n={};for(var e in t)r.indexOf(e)>=0||Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n}function Te(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Se(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function be(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var x=function(t){be(r,t);function r(n){Te(this,r);var e=Se(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,n));return e.handleClick=e.handleClick.bind(e),e.handleTouchStart=e.handleTouchStart.bind(e),e.handleTouchMove=e.handleTouchMove.bind(e),e.handleTouchEnd=e.handleTouchEnd.bind(e),e.handleFocus=e.handleFocus.bind(e),e.handleBlur=e.handleBlur.bind(e),e.previouslyChecked=!!(n.checked||n.defaultChecked),e.state={checked:!!(n.checked||n.defaultChecked),hasFocus:!1},e}return pe(r,[{key:"componentDidUpdate",value:function(e){e.checked!==this.props.checked&&this.setState({checked:!!this.props.checked})}},{key:"handleClick",value:function(e){if(!this.props.disabled){var o=this.input;if(e.target!==o&&!this.moved){this.previouslyChecked=o.checked,e.preventDefault(),o.focus(),o.click();return}var i=this.props.hasOwnProperty("checked")?this.props.checked:o.checked;this.setState({checked:i})}}},{key:"handleTouchStart",value:function(e){this.props.disabled||(this.startX=(0,k.pointerCoord)(e).x,this.activated=!0)}},{key:"handleTouchMove",value:function(e){if(this.activated&&(this.moved=!0,this.startX)){var o=(0,k.pointerCoord)(e).x;this.state.checked&&o+15<this.startX?(this.setState({checked:!1}),this.startX=o,this.activated=!0):o-15>this.startX&&(this.setState({checked:!0}),this.startX=o,this.activated=o<this.startX+5)}}},{key:"handleTouchEnd",value:function(e){if(this.moved){var o=this.input;if(e.preventDefault(),this.startX){var i=(0,k.pointerCoord)(e).x;this.previouslyChecked===!0&&this.startX+4>i?this.previouslyChecked!==this.state.checked&&(this.setState({checked:!1}),this.previouslyChecked=this.state.checked,o.click()):this.startX-4<i&&this.previouslyChecked!==this.state.checked&&(this.setState({checked:!0}),this.previouslyChecked=this.state.checked,o.click()),this.activated=!1,this.startX=null,this.moved=!1}}}},{key:"handleFocus",value:function(e){var o=this.props.onFocus;o&&o(e),this.setState({hasFocus:!0})}},{key:"handleBlur",value:function(e){var o=this.props.onBlur;o&&o(e),this.setState({hasFocus:!1})}},{key:"getIcon",value:function(e){var o=this.props.icons;return o?o[e]===void 0?r.defaultProps.icons[e]:o[e]:null}},{key:"render",value:function(){var e=this,o=this.props,i=o.className;o.icons;var a=ke(o,["className","icons"]),h=(0,me.default)("react-toggle",{"react-toggle--checked":this.state.checked,"react-toggle--focus":this.state.hasFocus,"react-toggle--disabled":this.props.disabled},i);return d.default.createElement("div",{className:h,onClick:this.handleClick,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd},d.default.createElement("div",{className:"react-toggle-track"},d.default.createElement("div",{className:"react-toggle-track-check"},this.getIcon("checked")),d.default.createElement("div",{className:"react-toggle-track-x"},this.getIcon("unchecked"))),d.default.createElement("div",{className:"react-toggle-thumb"}),d.default.createElement("input",de({},a,{ref:function(p){e.input=p},onFocus:this.handleFocus,onBlur:this.handleBlur,className:"react-toggle-screenreader-only",type:"checkbox"})))}}]),r}(I.PureComponent),Ee=D.default=x;x.displayName="Toggle";x.defaultProps={icons:{checked:d.default.createElement(ye.default,null),unchecked:d.default.createElement(_e.default,null)}};x.propTypes={checked:l.default.bool,disabled:l.default.bool,defaultChecked:l.default.bool,onChange:l.default.func,onFocus:l.default.func,onBlur:l.default.func,className:l.default.string,name:l.default.string,value:l.default.string,id:l.default.string,"aria-labelledby":l.default.string,"aria-label":l.default.string,icons:l.default.oneOfType([l.default.bool,l.default.shape({checked:l.default.node,unchecked:l.default.node})])};const we=()=>{const t=y(),{isDarkTheme:r}=O(n=>n.utilityReducer);return s.jsx(Ee,{checked:r===null?!1:r,onChange:({target:n})=>{t(G(n.checked))},icons:{checked:"ðŸŒ™",unchecked:"ðŸ”†"},"aria-label":"Dark mode toggle"})};const je=({setHome:t})=>s.jsxs("nav",{className:"navigation--bar",children:[s.jsxs("div",{className:"navigation--list",children:[s.jsx("span",{className:"icon--container",onClick:()=>t(!0),children:s.jsx(U,{})}),s.jsx("span",{className:"icon--container",onClick:()=>t(!1),children:s.jsx(W,{})})]}),s.jsx(we,{})]});/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var T=function(t,r){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o])},T(t,r)};function Ce(t,r){T(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var m=function(){return m=Object.assign||function(r){for(var n,e=1,o=arguments.length;e<o;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},m.apply(this,arguments)};function Le(t,r,n,e){var o,i=!1,a=0;function h(){o&&clearTimeout(o)}function u(){h(),i=!0}typeof r!="boolean"&&(e=n,n=r,r=void 0);function p(){var A=this,w=Date.now()-a,H=arguments;if(i)return;function _(){a=Date.now(),n.apply(A,H)}function $(){o=void 0}e&&!o&&_(),h(),e===void 0&&w>t?_():r!==!0&&(o=setTimeout(e?$:_,e===void 0?t-w:t))}return p.cancel=u,p}var f={Pixel:"Pixel",Percent:"Percent"},L={unit:f.Percent,value:.8};function P(t){return typeof t=="number"?{unit:f.Percent,value:t*100}:typeof t=="string"?t.match(/^(\d*(\.\d+)?)px$/)?{unit:f.Pixel,value:parseFloat(t)}:t.match(/^(\d*(\.\d+)?)%$/)?{unit:f.Percent,value:parseFloat(t)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),L):(console.warn("scrollThreshold should be string or number"),L)}var Pe=function(t){Ce(r,t);function r(n){var e=t.call(this,n)||this;return e.lastScrollTop=0,e.actionTriggered=!1,e.startY=0,e.currentY=0,e.dragging=!1,e.maxPullDownDistance=0,e.getScrollableTarget=function(){return e.props.scrollableTarget instanceof HTMLElement?e.props.scrollableTarget:typeof e.props.scrollableTarget=="string"?document.getElementById(e.props.scrollableTarget):(e.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},e.onStart=function(o){e.lastScrollTop||(e.dragging=!0,o instanceof MouseEvent?e.startY=o.pageY:o instanceof TouchEvent&&(e.startY=o.touches[0].pageY),e.currentY=e.startY,e._infScroll&&(e._infScroll.style.willChange="transform",e._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},e.onMove=function(o){e.dragging&&(o instanceof MouseEvent?e.currentY=o.pageY:o instanceof TouchEvent&&(e.currentY=o.touches[0].pageY),!(e.currentY<e.startY)&&(e.currentY-e.startY>=Number(e.props.pullDownToRefreshThreshold)&&e.setState({pullToRefreshThresholdBreached:!0}),!(e.currentY-e.startY>e.maxPullDownDistance*1.5)&&e._infScroll&&(e._infScroll.style.overflow="visible",e._infScroll.style.transform="translate3d(0px, "+(e.currentY-e.startY)+"px, 0px)")))},e.onEnd=function(){e.startY=0,e.currentY=0,e.dragging=!1,e.state.pullToRefreshThresholdBreached&&(e.props.refreshFunction&&e.props.refreshFunction(),e.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){e._infScroll&&(e._infScroll.style.overflow="auto",e._infScroll.style.transform="none",e._infScroll.style.willChange="unset")})},e.onScrollListener=function(o){typeof e.props.onScroll=="function"&&setTimeout(function(){return e.props.onScroll&&e.props.onScroll(o)},0);var i=e.props.height||e._scrollableNode?o.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!e.actionTriggered){var a=e.props.inverse?e.isElementAtTop(i,e.props.scrollThreshold):e.isElementAtBottom(i,e.props.scrollThreshold);a&&e.props.hasMore&&(e.actionTriggered=!0,e.setState({showLoader:!0}),e.props.next&&e.props.next()),e.lastScrollTop=i.scrollTop}},e.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:n.dataLength},e.throttledOnScrollListener=Le(150,e.onScrollListener).bind(e),e.onStart=e.onStart.bind(e),e.onMove=e.onMove.bind(e),e.onEnd=e.onEnd.bind(e),e}return r.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},r.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},r.prototype.componentDidUpdate=function(n){this.props.dataLength!==n.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},r.getDerivedStateFromProps=function(n,e){var o=n.dataLength!==e.prevDataLength;return o?m(m({},e),{prevDataLength:n.dataLength}):null},r.prototype.isElementAtTop=function(n,e){e===void 0&&(e=.8);var o=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,i=P(e);return i.unit===f.Pixel?n.scrollTop<=i.value+o-n.scrollHeight+1:n.scrollTop<=i.value/100+o-n.scrollHeight+1},r.prototype.isElementAtBottom=function(n,e){e===void 0&&(e=.8);var o=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,i=P(e);return i.unit===f.Pixel?n.scrollTop+o>=n.scrollHeight-i.value:n.scrollTop+o>=i.value/100*n.scrollHeight},r.prototype.render=function(){var n=this,e=m({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),o=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),i=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return g.createElement("div",{style:i,className:"infinite-scroll-component__outerdiv"},g.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(a){return n._infScroll=a},style:e},this.props.pullDownToRefresh&&g.createElement("div",{style:{position:"relative"},ref:function(a){return n._pullDown=a}},g.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!o&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},r}(c.Component);const Oe=({imageData:t})=>{const[r,n]=c.useState(0);return s.jsx("div",{className:"image--section",children:s.jsx(X.LazyLoadImage,{src:t.url,placeholderSrc:"/vite.svg",width:468,height:r===0||r<468?468:r,alt:"Image Alt",effect:"blur",onLoadedData:e=>{const o=e.currentTarget.height/e.currentTarget.width;n(468*o)}})})},Ne=({imageData:t})=>{const r=y(),n=c.useCallback(()=>{r(N(!0)),r(M({targetImage:t.date,imageDetail:t}))},[r,t]),e=c.useCallback(()=>{navigator.clipboard.writeText(`${location.origin}${location.pathname}?date=${t.date}`),r(q({msg:"Share link copied to clipboard"}))},[t.date]);return s.jsxs("div",{className:"icon--section",children:[s.jsx("span",{onClick:()=>n(),children:s.jsx(V,{})}),s.jsx("span",{onClick:()=>e(),children:s.jsx(z,{})})]})},Me=({description:t})=>{const[r,n]=c.useState(!1);return s.jsxs("div",{className:"description--section",children:[s.jsx("p",{className:r?"description--open":"",children:t}),!r&&s.jsx("span",{onClick:()=>n(!0),children:"more"})]})},De=({comments:t,imageData:r})=>{const[n,e]=c.useState(""),o=y(),i=c.useCallback(()=>{o(N(!0)),o(M({targetImage:r.date}))},[o,r.date]),a=c.useCallback(()=>{o(J({imageDate:r.date,text:n})),e("")},[o,n,r.date]);return s.jsxs("div",{className:"comment--section",children:[t.length>0&&s.jsxs("p",{children:[s.jsx("span",{children:"anonymous_user:Â "}),t[0]]}),t.length>1&&s.jsx("span",{onClick:()=>i(),children:`View all ${t.length+1} comments`}),s.jsxs("div",{className:"comment--input",children:[s.jsx("textarea",{placeholder:"Add Comment ...",className:"comment--input",value:n,onChange:h=>e(h.target.value)}),n.length>0&&s.jsx("span",{onClick:()=>a(),children:"Post"})]})]})},Re=({imageData:t})=>s.jsxs("article",{className:"image--block",children:[s.jsx(Oe,{imageData:t}),s.jsx(Ne,{imageData:t}),s.jsx(Me,{description:t.explanation}),s.jsx(De,{comments:t.comments.map(r=>r.text),imageData:t})]}),Fe="https://moshi-li.github.io/spacestagram/assets/NASA_logo-e03e4551.svg";const Ye=()=>s.jsx("div",{className:"footer--container",children:s.jsxs("p",{children:["Built with ",s.jsx("img",{src:Fe}),s.jsx("a",{href:"https://api.nasa.gov/",target:"_blank",children:"NASA API"})]})});const Be=()=>{const{images:t}=O(n=>n.homeReducer),r=y();return s.jsxs("div",{className:"home--container",children:[s.jsx(Pe,{dataLength:t.length,next:()=>{r(K())},hasMore:!0,loader:s.jsx("span",{className:"loader--icon",children:s.jsx(Q,{})}),endMessage:s.jsx(s.Fragment,{}),children:t.map(n=>s.jsx(Re,{imageData:n},n.date))}),s.jsx(Ye,{})]})};const Ie=c.lazy(()=>Z(()=>import("./index-829a7eaa.js"),["assets/index-829a7eaa.js","assets/index-8b0956d7.js","assets/index-313b903b.css","assets/index-6a172d7c.css"])),Ae=()=>{const[t,r]=c.useState(!0);return s.jsxs(s.Fragment,{children:[s.jsx(je,{setHome:r}),t===!0&&s.jsx(Be,{}),t===!1&&s.jsx(c.Suspense,{fallback:s.jsx(ee,{}),children:s.jsx(Ie,{})})]})},$e=Object.freeze(Object.defineProperty({__proto__:null,default:Ae},Symbol.toStringTag,{value:"Module"}));export{Ye as F,Pe as I,$e as i};
