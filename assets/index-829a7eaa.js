import{j as e,r as c,u as l,s as i,e as d,d as u,a as m,l as p,E as o,m as x,k as g,L as h,n as j}from"./index-8b0956d7.js";import{I as f,F as v}from"./index-1b894356.js";const E=({imageData:a})=>{const[s,t]=c.useState(!1),r=l();return e.jsxs("div",{className:"image--container",onMouseEnter:()=>t(!s),onMouseLeave:()=>t(!s),onClick:()=>{r(i(!0)),r(d({targetImage:a.date}))},children:[e.jsx(u.LazyLoadImage,{src:a.url,placeholderSrc:"/vite.svg",alt:"Image Alt",effect:"blur"}),s&&e.jsx("div",{className:"image--cover",children:e.jsx("p",{children:a.explanation})})]})},I=({imageData:a})=>e.jsx("div",{className:"image--block",children:a.map(s=>e.jsx(E,{imageData:s},s.date))});const M=()=>{const{images:a,status:s}=m(r=>r.exploreReducer),t=l();return c.useEffect(()=>{t(p(18));const r=()=>t(j());return()=>{r()}},[t]),e.jsxs(e.Fragment,{children:[(s===o.Ready||s===o.Adding)&&e.jsxs("div",{className:"explore--container",children:[e.jsx(f,{className:"infinite--scroll",dataLength:a.length/3,next:()=>{t(x(12))},hasMore:!0,loader:e.jsx("span",{className:"loader--icon",children:e.jsx(g,{})}),endMessage:e.jsx(e.Fragment,{}),children:a.map((r,n)=>(n+1)%3===0?e.jsx(I,{imageData:a.slice(n-2,n+1)},n):null)}),e.jsx(v,{})]}),s===o.Loading&&e.jsx(h,{})]})};export{M as default};
